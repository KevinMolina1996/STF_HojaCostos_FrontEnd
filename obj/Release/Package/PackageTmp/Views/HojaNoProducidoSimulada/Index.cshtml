@model AppWebHojaCosto.Models.TBL_SIM_HOJA_COSTO_PNP

@{
    ViewBag.Title = "Index";
}

@section Scripts {
    @*<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.6.0/Chart.min.js" type="text/javascript"></script>
        <script src="https://code.jquery.com/jquery-1.11.3.min.js"></script>*@
    <script src="~/Scripts/JS/js-hoja-simulada-no-producido.js"></script>
    <script>
    </script>

    @if (ViewBag.parametros == null || ViewBag.parametros.Count == 0)
    {
        <script type="text/javascript">
            validaParametros();
        </script>
    }

    @if (ViewBag.alerta != null)
    {
        <script type="text/javascript">
            window.onload = function () {
                alerta("Alerta!", '@ViewBag.alerta');
        };
        </script>
    }
    @if (ViewBag.error != null)
    {
        <script type="text/javascript">
            window.onload = function () {
                alerta("Error!", '@ViewBag.error');
        };
        </script>
    }
    @if (ViewBag.exito != null)
    {
        <script type="text/javascript">
            window.onload = function () {
                alerta("Exito!", '@ViewBag.exito');
        };
        </script>
    }
    @if (ViewBag.mensaje != null)
    {
        <script type="text/javascript">
            window.onload = function () {
                alerta("Alerta!", '@ViewBag.mensaje');
        };
        </script>
    }
    @if (ViewBag.pdf != null)
    {
        <script type="text/javascript">
            window.onload = function () {
                //printJS('../../consolidado.pdf');
                printJS('../../Documents/@ViewBag.pdf');
            };
        </script>
    }
}

<div class="container-fluid" id="contenedor">
    @using (Html.BeginForm("Guardar", "HojaNoProducidoSimulada", FormMethod.Post, new { id = "FrmAcciones" }))
    {
        @Html.ValidationSummary(true)
        <div class="row">
            <div class="col-md-12">
                @{Html.RenderPartial("_InfoBasica", Model);}
            </div>
        </div>
        <div class="row">
            <div class="col-md-4">
                @{Html.RenderPartial("_DatosBasicos", Model);}
            </div>
            <div class="col-md-4">
                @{Html.RenderPartial("_DatosLinea", Model);}
            </div>
            <div class="col-md-4">
                @{Html.RenderPartial("_ImgDelantera", Model);}
            </div>
        </div>
        <div class="row">
            <div class="col-md-8">
                @{Html.RenderPartial("_Rubro", Model);}
            </div>
            <div class="col-md-4">
                <div class="row">
                    <div class="col-md-12">
                        @{Html.RenderPartial("_ImgTrasera", Model);}
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-12">
                        @{Html.RenderPartial("_Participacion", Model);}
                    </div>
                </div>
            </div>
        </div>
        <div class="row" style="padding-bottom:20px;">
            <div class="col-md-8">
                @{Html.RenderPartial("_Precios", Model);}
            </div>
            <div class="col-md-4">
                <div class="row">
                    <div class="col-md-12">
                        @{Html.RenderPartial("_Piramide", Model);}
                    </div>
                    <div class="col-md-12">
                        @{Html.RenderPartial("_Acciones", Model);}
                    </div>
                </div>
            </div>
        </div>
    }
    <div style="display:none;" id="conFormulas">
        @if (ViewBag.formulas != null)
        {
            foreach (var item in ViewBag.formulas)
            {
                <input type="hidden" data-name="@item.FoCampoReferenciaS" data-formula="@item.FoOperacionS" data-consulta="@item.FoConsultaSQLiteS" />
            }
        }
        @if (ViewBag.parametros != null)
        {
            foreach (var item in ViewBag.parametros)
            {
                <input type="hidden" id="@item.NombreCampo" value="@item.ValorCampo" />
            }
        }
    </div>
</div>